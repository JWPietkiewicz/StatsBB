<UserControl x:Class="StatsBB.UserControls.PlayByPlayLog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Background="{StaticResource SystemBackgroundColor}">
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="12">
            <!-- ItemsControl provides read-only display with no reordering capabilities -->
            <ItemsControl ItemsSource="{Binding Cards}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="0,0,0,4" Padding="10" Background="{StaticResource SystemSurfaceColor}" 
                                BorderBrush="{StaticResource SystemBorderColor}" BorderThickness="1" CornerRadius="8">
                            <StackPanel>
                                <!-- Header with improved styling -->
                                <Grid Margin="0,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding Header}" FontWeight="Bold" FontSize="16" 
                                               Foreground="{StaticResource SystemTextColor}"/>
                                    <Border Grid.Column="1" Background="{StaticResource SystemControlBackgroundColor}" 
                                            CornerRadius="12" Padding="8,4">
                                        <TextBlock Text="{Binding Actions.Count}" FontSize="12" FontWeight="SemiBold"
                                                   Foreground="{StaticResource SystemTextSecondaryColor}"/>
                                    </Border>
                                </Grid>
                                
                                <!-- Actions list with improved layout -->
                                <ItemsControl ItemsSource="{Binding Actions}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="Transparent" Padding="4" Margin="0,0" 
                                                    CornerRadius="0" BorderThickness="1" BorderBrush="Transparent">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Style.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="{StaticResource SystemControlHoverColor}"/>
                                                                <Setter Property="BorderBrush" Value="{StaticResource SystemBorderColor}"/>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>
                                                    
                                                    <!-- Team color indicator -->
                                                    <Border Grid.Column="0" Width="16" Height="16" 
                                                            Background="{Binding TeamColor}" CornerRadius="8" 
                                                            Margin="-4,0,8,0" VerticalAlignment="Center"/>
                                                    
                                                    <!-- Player number -->
                                                    <TextBlock Grid.Column="1" Text="{Binding PlayerNumber}" 
                                                               Margin="0,0,8,0" VerticalAlignment="Center"
                                                               Foreground="{StaticResource SystemTextColor}" 
                                                               FontWeight="Bold" FontSize="14">
                                                        <TextBlock.Style>
                                                            <Style TargetType="TextBlock">
                                                                <Style.Triggers>
                                                                    <Trigger Property="Text" Value="#">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </TextBlock.Style>
                                                    </TextBlock>
                                                    
                                                    <!-- Player name -->
                                                    <TextBlock Grid.Column="2" Text="{Binding FullName}" 
                                                               Margin="0,0,4,0" VerticalAlignment="Center"
                                                               Foreground="{StaticResource SystemTextColor}" 
                                                               FontWeight="SemiBold" MinWidth="120"/>
                                                    
                                                    <!-- Action description -->
                                                    <TextBlock Grid.Column="3" Text="{Binding Action}" 
                                                               VerticalAlignment="Center"
                                                               Foreground="{StaticResource SystemTextSecondaryColor}"
                                                               FontStyle="Italic" TextWrapping="Wrap"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
